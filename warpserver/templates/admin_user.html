{% extends "layout.html" %}
{% set page_title = 'Manage User' %}

{% block content %}
{% if message %}
    <script type="text/javascript">
        $( document ).ready( function() {
            $( '#messageModal' ).modal( 'toggle' );
        });
    </script>
<!-- Modal -->
<div class="modal fade" id="messageModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Message</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        {{ message }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}
<div class="col-lg-12">
    <h1>Manage User "{{ user.username }}"</h1>
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="/admin">Admin Dashboard</a>
        </li>
        <li class="breadcrumb-item">
            <a href="/admin/user">Manage User</a>
        </li>
        <li class="breadcrumb-item active">{{ user.username }}</li>
    </ol>
    <hr>
</div>
<div class="col-lg-12">
    <div class="card mb-3">
    <div class="card-header">
    <i class="fas fa-table"></i>
    Edit User
    </div>
    <div class="card-body">
        <form method="POST">
            <div class="form-group">
            <label>Username</label>
            <input name="username" value="{{ user.username }}" class="form-control">
            </div>
            <div class="form-group">
            <label>Email</label>
            <input name = "email" value="{{ user.email }}" class="form-control">
            </div>
            <div class="form-group">
            <label>Power</label>
            <input name = "power" value="{{ user.power }}" class="form-control">
            </div>
            <div class="form-group">
            <label>Note</label>
            <textarea class="form-control" name="note" value="{{ user.note }}" rows="3">{{ user.note }}</textarea>
            </div>
            <div class="form-group">
                <div class="checkbox">
                    <label>
                        <input name="locked" value="checked" type="checkbox" {% if user.locked %}checked{% endif %}>Locked
                    </label>
                    <p class="help-block">If activated the User can no longer login and or use Albian Warp! (Not yet implemented)</p>
                </div>
            </div>
            <div class="form-group">
            <label>Password</label>
            <input name = "password" type="password" value="" class="form-control">
            </div>
            <button type="submit" class="btn btn-outline-warning btn-default">Save</button>
        </form>
    </div>
        <div class="card-footer small text-muted"><b>Created:</b> {{ user.date_created }} <b>Updated:</b> {{ user.date_modified }}</div>
</div>
</div>
{% endblock %}